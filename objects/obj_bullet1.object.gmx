<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_dynamitestick</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>damage=0
startdamage=0
canbreak=false

Crit=false
didDamage=false;
Slow=false
grav=0.5

//alarm[0]=irandom_range(room_speed/5,(room_speed/5)+5)
alarm[0]=1

friction=0//0.1

image_xscale=0.5
image_yscale=0.5


alarm[1]=irandom_range(room_speed/2,room_speed)
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///parts
/*

pt = part_type_create()
em = part_emitter_create(global.ps)

part_type_shape(pt,10)
part_type_size(pt,0.20,0.40,0,0.10)
part_type_speed(pt,4,6,0,0)
part_type_direction(pt,0,360,0,0)
part_type_color3(pt,255,25025,255)
part_type_alpha2(pt,1,0)
//part_type_blend(pt,1)
part_type_life(pt,15,38)
part_type_gravity(pt,0.10,275)




pt2 = part_type_create()
em2 = part_emitter_create(global.ps)

part_type_shape(pt2,3)
part_type_size(pt2,0,0.22,0,0)
part_type_speed(pt2,3,12,0,0)
part_type_direction(pt2,0,180,0,0)
part_type_color3(pt2,65535,4235519,255)
part_type_alpha2(pt2,1,0)
//part_type_blend(pt2,0)
part_type_orientation(pt2,0,0,0,0,1);
part_type_life(pt2,50,60)
part_type_gravity(pt2,0.35,270)




part3 = part_type_create();

part_type_shape(part3,pt_shape_explosion);
part_type_color3(part3,c_white,c_yellow,c_red)
part_type_alpha2(part3,0.15,0.20);
part_type_speed(part3,1,1,0,0.02);
part_type_direction(part3,0,360,0,10);   // lots of stuff to tweak here
part_type_size(part3,0.5,0.7,-0.004,0.01);
part_type_life(part3,50,60);

*/
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>

/*
//clear up memory leaks
part_emitter_destroy(global.ps,em)
part_emitter_destroy(global.ps,em)

part_type_destroy(ps)
part_type_destroy(ps2)
part_type_destroy(part3)
*/

scr_shake()
if !instance_exists(obj_client){
with(par_block){
    if point_distance(x,y,other.x,other.y)&lt;45{
        helth-=(1/(point_distance(x,y,other.x,other.y)+1))*5
    }
}

with(par_monster){
    if object_index!=par_boss{
    if point_distance(x,y,other.x,other.y)&lt;150{
        helth-=(other.damage/(point_distance(x,y,other.x,other.y)+1))*75
        other.didDamage=true
    }
    }else{
    if point_distance(x,y,other.x,other.y)&lt;150{
        helth-=(other.damage/(point_distance(x,y,other.x,other.y)+1))
        other.didDamage=true
    }
    }
}

if instance_exists(obj_crate){
    with(obj_crate){
        if point_distance(x,y,other.x,other.y)&lt;75{
            helth-=(1/(point_distance(x,y,other.x,other.y)+1))*25
        }
    }
}

if instance_exists(obj_dynamite){
    with(obj_dynamite){
        if point_distance(x,y,other.x,other.y)&lt;75{
            helth-=(1/(point_distance(x,y,other.x,other.y)+1))*25
        }
    }
}
}

if point_distance(x,y,obj_player.x,obj_player.y)&lt;75{
    obj_control.player_health-=(1/(point_distance(x,y,obj_player.x,obj_player.y)+1))*5
}

part_emitter_region(obj_control.ps,obj_control.em,x-5,x+5,y-5,y+5,1,0)
part_emitter_burst(obj_control.ps,obj_control.em,obj_control.pt,50)

//sound_play(choose(snd_exp0,snd_exp1,snd_exp2,snd_exp3))
audio_play_sound(choose(snd_exp0,snd_exp1,snd_exp2,snd_exp3),4,0)

if gamepad_get_device_count()&gt;0
&amp;&amp; check_padpress()=true{
    gamepad_set_vibration(0,1,1)
    obj_pause.alarm[0]=10
}

if Crit=true &amp;&amp; didDamage=true{
    scr_crithit()
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_destroy()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//instance_destroy()
startdamage=damage


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if instance_exists(par_monster){
    nn=instance_nearest(x,y,par_monster)
    if point_distance(x,y,nn.x,nn.y)&lt;25{
        instance_destroy()
    }
}


if speed&gt;0.5{
image_angle=direction
}

if vspeed&lt;0.5{
if !place_free(x,y+1){gravity=0}else{gravity=grav}
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="par_monster">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !instance_exists(obj_client){
    other.helth-=damage
}
instance_destroy()
other.image_blend=other._color
other.alarm[0]=3
didDamage=true
sound_play(snd_hit)
other.hitBullet=true
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="par_block">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if vspeed &gt; 0 &amp;&amp; !place_free(x,y+vspeed)
{move_contact(270) jump=1}

if !place_free(x+hspeed,y){
    hspeed=(hspeed/1.5)*-1
}


if vspeed&lt;0.2{vspeed=0}
vspeed = (vspeed/1.75)*-1
//hspeed=0
//speed=0


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_dynamite">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>other.helth-=damage
instance_destroy()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_crate">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>other.helth-=damage
instance_destroy()
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>3,9</point>
    <point>10,10</point>
  </PhysicsShapePoints>
</object>
